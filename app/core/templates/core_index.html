<!-- core-repo/app/core/templates/core_index.html -->
{% extends "base.html" %}

{% block content %}

  <p class="h4">Dashboard (Core Version)</p>

  <!-- Input Selection -->
  <div id="input-section" class="text-center mb-4">
    <p class="lead">Select your input method:</p>
    <button class="btn btn-primary me-4" onclick="setInput('PC')">PC</button>
    <button class="btn btn-primary" onclick="setInput('Controller')">Controller</button>
  </div>

  <!-- Main Row: Chart and Sidebar -->
  <div class="row">
    <div class="col-md-9">
      <!-- Chart Section -->
      <div id="chart-section" class="card bg-secondary mb-4">
        <div class="card-body">
          <h3 class="card-title text-center">Win Probability Chart</h3>
          <canvas id="win-chart"></canvas>
        </div>
      </div>
    </div>

    <!-- Performance Indicators -->
    <div class="col-md-3 mt-4">
      <h4 class="text-center">Performance Indicators</h4>
      <div id="tank-row" class="p-2 my-2 text-center bg-secondary">Tank</div>
      <div id="damage-row" class="p-2 my-2 text-center bg-secondary">Damage</div>
      <div id="support-row" class="p-2 my-2 text-center bg-secondary">Support</div>
      <!-- No premium synergy sections here -->
    </div>
  </div>

  <!-- Screenshot Row -->
  <div class="row mt-4">
    <div class="col-12">
      <h3 class="text-left">Screenshots</h3>
      <div id="screenshot-row" style="overflow-x:auto; white-space:nowrap;">
        <!-- Images will be dynamically inserted here -->
      </div>
    </div>
  </div>

  <!-- End Game Bar -->
  <div id="end-game-bar" class="fixed-bottom bg-secondary text-light p-1">
    <button id="end-game-btn" class="btn btn-danger">END GAME</button>
    <button id="reset-input-btn" class="btn btn-secondary">Change Input Type</button>
    <div id="game-outcome-options" class="mt-3" style="display: none;">
      <p>Select Game Outcome:</p>
      <button class="btn btn-success me-2" onclick="setGameOutcome('win')">Win</button>
      <button class="btn btn-danger me-2" onclick="setGameOutcome('loss')">Loss</button>
      <button class="btn btn-warning me-2" onclick="setGameOutcome('draw')">Draw</button>
      <button class="btn btn-secondary" onclick="setGameOutcome('left')">Invalid</button>
    </div>
  </div>

{% endblock content %}